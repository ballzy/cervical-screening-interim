{% extends "layout-v2.html" %}


{% block pageTitle %}
  NHS Cervical screening management system
{% endblock %}

{% block header %}
  {% include '../components/header.html' %}
{% endblock %}


{% block content %}

<div class="nhsuk-back-link">
  <a class="nhsuk-back-link__link" href="prior-notification-4">
    <svg class="nhsuk-icon nhsuk-icon__chevron-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
      <path d="M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"></path>
    </svg>
    Go back to Prior Notification List</a>
</div>

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-three-quarters nhsuk-u-margin-bottom-6">
  <h1 class="nhsuk-heading-l">Patients deferred from screening</h1>
  
  <div class="nhsuk-inset-text nhsuk-inset-text__screening nhsuk-u-margin-top-0 nhsuk-u-margin-bottom-4">
    <span class="nhsuk-u-visually-hidden">Prior notification list</span>
    <h3 class="nhsuk-heading-s">The following participants have been taken off the prior notifiocation list and deferred. Paitients will remain on this list until their deferred date has past .</h3>
  </div>
  <br>

 

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">

    <table id="sortable" class="nhsuk-table-clickable bna-table nhsuk-u-margin-top-0">
      <thead class="nhsuk-table__head">
        <tr class="nhsuk-table__row">
          
          <th class="nhsuk-table__header" aria-sort="none" scope="col">
            <button onclick="sortTable()" type="button" data-index="0">NHS No</button>
          </th>
          <th class="nhsuk-table__header" aria-sort="none" scope="col">
            <button onclick="sortTable()" type="button" data-index="0">Name</button>
          </th>
          <th class="nhsuk-table__header" aria-sort="none" scope="col">
            <button onclick="sortTable()" type="button" data-index="0">Age</button>
          </th>
          <th class="nhsuk-table__header" aria-sort="none" scope="col">
            <button onclick="sortTable()" type="button" data-index="0">Status</button>
          </th>
          <th class="nhsuk-table__header" aria-sort="none" scope="col">
            <button onclick="sortTable()" type="button" data-index="0">Next test due date</button>
          </th>
          
        
      </thead>
        <tbody class="nhsuk-table__body">

        
    

       
          <td class="nhsuk-table__cell">
            537 698 6721
          </td>
          <td class="nhsuk-table__cell">
            Yazmin Noble
          </td>
          <td class="nhsuk-table__cell">
            47
          </td>
          <td class="nhsuk-table__cell">
            <span class="nhsuk-tag nhsuk-tag--grey nhsuk-u-margin-bottom-2">deferred</span>
          </td>
          <td class="nhsuk-table__cell">
            12-10-2020
          </td>
        </tr>

        <tr id="detailsRow4" class="hidden detailsRow">
          <td colspan="7">
            {% include '../components/reasons.html' %}
          </td>
        </tr>

        <tr class="nhsuk-table__row">
          
          <td class="nhsuk-table__cell">
            460 891 3182
          </td>
          <td class="nhsuk-table__cell">
            Elly Arellano
          </td>
          <td class="nhsuk-table__cell">
            28
          </td>
          <td class="nhsuk-table__cell">
           <span class="nhsuk-tag nhsuk-tag--grey nhsuk-u-margin-bottom-2">deferred</span>
          </td>
          <td class="nhsuk-table__cell">
            12-10-2020
          </td>
        </tr>

        <tr id="detailsRow5" class="hidden detailsRow">
          <td colspan="7">
            {% include '../components/reasons.html' %}
          </td>
        </tr>

        <tr class="nhsuk-table__row">
          
          <td class="nhsuk-table__cell">
            246 122 7527
          </td>
          <td class="nhsuk-table__cell">
            Melinda Mathis
          </td>
          <td class="nhsuk-table__cell">
            36
          </td>
          <td class="nhsuk-table__cell">
           <span class="nhsuk-tag nhsuk-tag--grey nhsuk-u-margin-bottom-2">deferred</span>
          </td>
          <td class="nhsuk-table__cell">
            13-10-2020
          </td>
        </tr>

        <tr id="detailsRow6" class="hidden detailsRow">
          <td colspan="7">
            {% include '../components/reasons.html' %}
          </td>
        </tr>
            
        </tbody>   
      </table>

      {{ pagination({
        "nextUrl": "/section/symptoms",
        "nextPage": "Page 2 of 10"
      }) }}    

      </div>

      


  </div>
{% endblock %}


{% block pageScripts %}
<script>
  function toggle(btnID, eIDs) {
    // Feed the list of ids as a selector
    var theRows = document.querySelectorAll(eIDs);
    // Get the button that triggered this
    var theButton = document.getElementById(btnID);
    // If the button is not expanded...
    if (theButton.getAttribute("aria-expanded") == "false") {
      // Loop through the rows and show them
      for (var i = 0; i < theRows.length; i++) {
        theRows[i].classList.add("shown");
        theRows[i].classList.remove("hidden");
      }
      // Now set the button to expanded
      theButton.setAttribute("aria-expanded", "true");
      // Otherwise button is not expanded...
    } else {
      // Loop through the rows and hide them
      for (var i = 0; i < theRows.length; i++) {
        theRows[i].classList.add("hidden");
        theRows[i].classList.remove("shown");
      }
      // Now set the button to collapsed
      theButton.setAttribute("aria-expanded", "false");
    }
    $('.expanderButton[aria-expanded="true"]').closest('tr').addClass('expandedRow');
    $('.expanderButton[aria-expanded="false"]').closest('tr').removeClass('expandedRow');
  }


  function hideAllPages() {
    document.getElementById("reasons-step-0").style.display = "none";
    document.getElementById("reasons-step-1").style.display = "none";
    document.getElementById("reasons-step-2").style.display = "none";
    document.getElementById("reasons-step-3").style.display = "none";
    document.getElementById("reasons-step-4").style.display = "none";
    document.getElementById("reasons-step-5").style.display = "none";
  }

  document.getElementById("step-2").addEventListener('click', function(e) {
    e.preventDefault();
    hideAllPages();
    document.getElementById("reasons-step-0").style.display = "block";
    document.getElementById("reasons-step-2").style.display = "block";
    document.getElementById("pnl-reason-1").focus();
  })

  document.getElementById("back-step-1").addEventListener('click', function(e) {
    e.preventDefault();
    hideAllPages();
    document.getElementById("reasons-step-0").style.display = "block";
    document.getElementById("reasons-step-1").style.display = "block";
  })

  document.getElementById("step-3").addEventListener('click', function(e) {
    e.preventDefault();
    hideAllPages();
    document.getElementById("reasons-step-0").style.display = "block";
    document.getElementById("reasons-step-3").style.display = "block";
    document.getElementById("pnl-length-1").focus();
  })

  document.getElementById("back-step-2").addEventListener('click', function(e) {
    e.preventDefault();
    hideAllPages();
    document.getElementById("reasons-step-0").style.display = "block";
    document.getElementById("reasons-step-2").style.display = "block";
  })

  document.getElementById("step-4").addEventListener('click', function(e) {
    e.preventDefault();
    hideAllPages();
    document.getElementById("reasons-step-0").style.display = "block";
    document.getElementById("reasons-step-4").style.display = "block";
  })

  document.getElementById("back-step-3").addEventListener('click', function(e) {
    e.preventDefault();
    hideAllPages();
    document.getElementById("reasons-step-0").style.display = "block";
    document.getElementById("reasons-step-3").style.display = "block";
  })

  document.getElementById("step-5").addEventListener('click', function(e) {
    e.preventDefault();
    hideAllPages();
    document.getElementById("reasons-step-5").style.display = "block";
    document.querySelector(".expandedRow").focus();
  })

  document.getElementById("step-done").addEventListener('click', function(e) {
    e.preventDefault();
    hideAllPages();
    document.getElementById("reasons-step-2").style.display = "block";
    console.log('ready to submit')
  })


  

  /* SELECT ALL */
  var selectAll = document.getElementById("selectAll");
  var checkBoxes = document.querySelectorAll('.nhsuk-checkboxes__input');

  selectAll.addEventListener('change', function() {
    if(this.checked) {
        for (i = 1; i < checkBoxes.length; i++) {
          console.log(checkBoxes[i]);
          checkBoxes[i].checked = true;
        } 
    } else {
        console.log('nah')
        for (i = 1; i < checkBoxes.length; i++) {
          console.log(checkBoxes[i]);
          checkBoxes[i].checked = false;
        } 
    }
  })

</script>



<script>
  // Script for the view selected button

  /*
  $(".nhsuk-checkboxes__input").change(function() {
      if ($("input:checkbox:checked").length > 0)
      {
        $(".disable-able").removeClass("nhsuk-button--disabled").removeClass("nhsuk-button--secondary").addClass("nhsuk-button--blue");
        $("#view-selected-link").attr("href", "./birth-notification");

        if ($("input:checkbox:checked").length > 1)
        {
          $("#view-selected-link").attr("href", "./birth-notification-multiple-1-of-3");
        }

      }
      else
      {
        $(".disable-able ").addClass("nhsuk-button--disabled").addClass("nhsuk-button--secondary").removeClass("nhsuk-button--blue");
      }


  });
  */
</script>
{% endblock %}